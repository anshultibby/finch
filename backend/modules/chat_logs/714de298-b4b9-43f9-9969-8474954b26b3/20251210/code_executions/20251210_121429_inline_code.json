{
  "timestamp": "2025-12-10T12:14:26.956698",
  "execution_mode": "inline",
  "execution_filename": "inline_code",
  "source": "inline code",
  "user_id": "dba02deb-cace-42be-b795-61ac34558144",
  "chat_id": "714de298-b4b9-43f9-9969-8474954b26b3",
  "code": "import pandas as pd\nimport matplotlib.pyplot as plt\nimport matplotlib.dates as mdates\nimport numpy as np\n\n# Read the saved data\ndf = pd.read_csv('datacenter_construction_vs_sp500_2025.csv')\ndf['Date'] = pd.to_datetime(df['Date'])\n\n# Create figure with 2 subplots\nfig, (ax1, ax2) = plt.subplots(2, 1, figsize=(14, 10))\nfig.suptitle('\ud83c\udfd7\ufe0f Data Center Construction Portfolio vs S&P 500 (2025 YTD)', \n             fontsize=16, fontweight='bold', y=0.995)\n\n# Plot 1: Cumulative returns\nax1.plot(df['Date'], df['DC_Construction_Portfolio'], linewidth=2.5, \n         label='DC Construction Portfolio', color='#00A86B', alpha=0.9)\nax1.plot(df['Date'], df['SP500'], linewidth=2.5, \n         label='S&P 500 (SPY)', color='#4169E1', alpha=0.9)\n\nax1.fill_between(df['Date'], df['DC_Construction_Portfolio'], \n                  alpha=0.1, color='#00A86B')\nax1.fill_between(df['Date'], df['SP500'], \n                  alpha=0.1, color='#4169E1')\n\nax1.axhline(y=0, color='gray', linestyle='--', alpha=0.5, linewidth=1)\nax1.grid(True, alpha=0.3, linestyle=':')\nax1.set_ylabel('Cumulative Return (%)', fontsize=12, fontweight='bold')\nax1.legend(loc='upper left', fontsize=11, framealpha=0.9)\nax1.set_title('Cumulative Performance Comparison', fontsize=13, pad=10)\n\n# Format y-axis as percentage\nax1.yaxis.set_major_formatter(plt.FuncFormatter(lambda y, _: f'{y:.0f}%'))\n\n# Add performance annotations\nfinal_dc = df['DC_Construction_Portfolio'].iloc[-1]\nfinal_spy = df['SP500'].iloc[-1]\nax1.text(df['Date'].iloc[-1], final_dc, f'  {final_dc:.1f}%', \n         va='center', fontsize=10, fontweight='bold', color='#00A86B')\nax1.text(df['Date'].iloc[-1], final_spy, f'  {final_spy:.1f}%', \n         va='center', fontsize=10, fontweight='bold', color='#4169E1')\n\n# Plot 2: Outperformance (alpha)\ndf['Alpha'] = df['DC_Construction_Portfolio'] - df['SP500']\nax2.plot(df['Date'], df['Alpha'], linewidth=2, \n         color='#FF6B35', label='Outperformance (Alpha)')\nax2.fill_between(df['Date'], 0, df['Alpha'], \n                  where=(df['Alpha'] >= 0), alpha=0.3, color='#00A86B', \n                  interpolate=True, label='Outperforming')\nax2.fill_between(df['Date'], 0, df['Alpha'], \n                  where=(df['Alpha'] < 0), alpha=0.3, color='#E63946', \n                  interpolate=True, label='Underperforming')\n\nax2.axhline(y=0, color='black', linestyle='-', alpha=0.5, linewidth=1.5)\nax2.grid(True, alpha=0.3, linestyle=':')\nax2.set_xlabel('Date', fontsize=12, fontweight='bold')\nax2.set_ylabel('Alpha vs S&P 500 (%)', fontsize=12, fontweight='bold')\nax2.legend(loc='upper left', fontsize=11, framealpha=0.9)\nax2.set_title('Portfolio Outperformance Over Time', fontsize=13, pad=10)\n\n# Format y-axis as percentage\nax2.yaxis.set_major_formatter(plt.FuncFormatter(lambda y, _: f'{y:.0f}%'))\n\n# Format x-axis\nfor ax in [ax1, ax2]:\n    ax.xaxis.set_major_formatter(mdates.DateFormatter('%b %Y'))\n    ax.xaxis.set_major_locator(mdates.MonthLocator(interval=1))\n    plt.setp(ax.xaxis.get_majorticklabels(), rotation=45, ha='right')\n\nplt.tight_layout()\nplt.savefig('datacenter_construction_performance_2025.png', dpi=300, bbox_inches='tight')\nprint(\"\u2713 Visualization saved: datacenter_construction_performance_2025.png\")\nplt.close()\n\n# Create portfolio composition chart\nfig, (ax1, ax2) = plt.subplots(1, 2, figsize=(16, 7))\nfig.suptitle('\ud83c\udfaf Data Center Construction Portfolio Analysis', \n             fontsize=16, fontweight='bold')\n\n# Portfolio weights pie chart\nportfolio_data = [\n    ('PWR', 35.97, '+45.66%'),\n    ('FIX', 18.58, '+132.69%'),\n    ('EME', 14.72, '+36.10%'),\n    ('MTZ', 9.39, '+61.41%'),\n    ('ACM', 6.88, '-7.15%'),\n    ('DY', 5.39, '+99.62%'),\n    ('STRL', 5.28, '+94.78%'),\n    ('PRIM', 3.81, '+73.46%')\n]\n\ntickers = [x[0] for x in portfolio_data]\nweights = [x[1] for x in portfolio_data]\nreturns = [x[2] for x in portfolio_data]\n\ncolors = ['#FF6B6B', '#4ECDC4', '#45B7D1', '#FFA07A', \n          '#98D8C8', '#F7DC6F', '#BB8FCE', '#85C1E2']\n\nwedges, texts, autotexts = ax1.pie(weights, labels=None, autopct='%1.1f%%',\n                                     colors=colors, startangle=90,\n                                     explode=[0.05 if w > 15 else 0 for w in weights])\n\nfor autotext in autotexts:\n    autotext.set_color('white')\n    autotext.set_fontweight('bold')\n    autotext.set_fontsize(10)\n\n# Create legend\nlegend_labels = [f\"{t} - {r}\" for t, r in zip(tickers, returns)]\nax1.legend(wedges, legend_labels, title=\"Ticker - YTD Return\",\n          loc=\"center left\", bbox_to_anchor=(1, 0, 0.5, 1),\n          fontsize=10)\n\nax1.set_title('Portfolio Composition\\n(Market Cap Weighted)', \n              fontsize=13, fontweight='bold', pad=15)\n\n# Performance comparison bar chart\nmetrics = ['Total Return', 'Sharpe Ratio', 'Max Drawdown']\nportfolio_values = [64.27, 1.50, -35.72]\nspy_values = [16.95, 0.94, -19.00]\n\nx = np.arange(len(metrics))\nwidth = 0.35\n\nbars1 = ax2.bar(x - width/2, portfolio_values, width, label='DC Construction',\n                color='#00A86B', alpha=0.8)\nbars2 = ax2.bar(x + width/2, spy_values, width, label='S&P 500',\n                color='#4169E1', alpha=0.8)\n\nax2.set_xlabel('Metrics', fontsize=12, fontweight='bold')\nax2.set_ylabel('Value', fontsize=12, fontweight='bold')\nax2.set_title('Performance Metrics Comparison', fontsize=13, fontweight='bold', pad=15)\nax2.set_xticks(x)\nax2.set_xticklabels(metrics)\nax2.legend(fontsize=11)\nax2.grid(True, alpha=0.3, axis='y', linestyle=':')\nax2.axhline(y=0, color='black', linestyle='-', linewidth=0.8)\n\n# Add value labels on bars\nfor bars in [bars1, bars2]:\n    for bar in bars:\n        height = bar.get_height()\n        label = f'{height:.1f}' if abs(height) < 10 else f'{height:.0f}'\n        ax2.text(bar.get_x() + bar.get_width()/2., height,\n                label, ha='center', va='bottom' if height > 0 else 'top',\n                fontsize=9, fontweight='bold')\n\nplt.tight_layout()\nplt.savefig('datacenter_construction_composition_2025.png', dpi=300, bbox_inches='tight')\nprint(\"\u2713 Visualization saved: datacenter_construction_composition_2025.png\")\nplt.close()\n\nprint(\"\\n\u2705 All visualizations created successfully!\")",
  "code_length": 6090,
  "working_directory": "/var/folders/tt/kh3d1db10157pw_h6yy2g_2h0000gn/T/vfs_7stu9bk7",
  "script_path": "/var/folders/tt/kh3d1db10157pw_h6yy2g_2h0000gn/T/inline_qo1unhqs.py",
  "exit_code": 0,
  "stdout": "\u2713 Visualization saved: datacenter_construction_performance_2025.png\n\u2713 Visualization saved: datacenter_construction_composition_2025.png\n\n\u2705 All visualizations created successfully!\n",
  "stderr": "",
  "execution_duration_seconds": 2.7908477783203125,
  "mounted_files": [
    "datacenter_construction_vs_sp500_2025.csv",
    "finch_runtime.py",
    "apis/polygon_api_docs.md",
    "apis/compare_reddit_sentiment.md",
    "apis/get_fmp_data.md",
    "apis/get_reddit_trending_stocks.md",
    "apis/get_reddit_ticker_sentiment.md"
  ],
  "file_changes": {
    "new": [
      "datacenter_construction_composition_2025.png",
      "datacenter_construction_performance_2025.png"
    ],
    "modified": [],
    "deleted": []
  },
  "success": true
}